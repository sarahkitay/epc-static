import type { PaymentMethod, SqEvent, TokenizationEvent, TokenResult } from '../payment-method-types';
import type { PlaidEventName } from './types';
/**
 * The ACH Payment Method
 *
 * When initializing the ACH payment method, the developer may provide a unique transactionId. One will
 * be generated if not provided.
 *
 * @example
 * ```
 * const ach = await payments.ach({
 *   transactionId: 'my-distinct-transaction-id',
 * )};
 *
 * const achButton = document.getElementById('ach-button')
 * const buyerNameField = document.getElementById('buyer-name-field');
 *
 * ach.addEventListener('ontokenization', (event) => {
 *   const { tokenResult, error } = event.detail;
 *
 *   if (error) {
 *     const errorMessage = `Tokenization failed with status: ${error}`;
 *     throw new Error(errorMessage);
 *   }
 *
 *   if (tokenResult.status === 'OK') {
 *     console.log('got payment token: ', tokenResult.token);
 *   }
 * });
 *
 * achButton.onclick = () => {
 *   try {
 *     await ach.tokenize({
 *       intent: 'CHARGE',
 *       accountHolderName: buyerNameField.value,
 *       amount: '5.00',
 *       currency: 'USD',
 *     });
 *   }
 *   catch (e) {
 *     // handle error
 *   }
 * }
 * ```
 */
export interface ACH extends PaymentMethod {
    /**
     * Trigger the ACH authentication flow.
     * @example
     * ```
     * const achButton = document.getElementById('ach-button')
     * const buyerNameField = document.getElementById('buyer-name-field');
     * achButton.onclick = () => {
     *   try {
     *     ach.addEventListener('ontokenization', (event) => {
     *       const { tokenResult, error } = event.detail;
     *     });
     *
     *     await ach.tokenize({
     *       intent: 'CHARGE',
     *       accountHolderName: 'Bryce Neal',
     *       amount: '5.00',
     *       currency: 'USD',
     *     });
     *   } catch (e) {
     *     // Something went wrong
     *     console.error(e);
     *   }
     * };
     * ```
     * @returns {Promise<TokenResult | undefined>} All current usages should return Promise<TokenResult>
     * @throws {@link PlaidMissingNameError} `{ accountHolderName: string }` is a required parameter
     * @throws {@link TokenizationError} The bank transfer request could not be tokenized
     * @throws {@link InvalidOptionError} AchChargeTokenOptions should be passed in with the right parameters
     */
    tokenize(options: AchTokenizeOptions): Promise<TokenResult | undefined>;
    /**
     * Destroys the ACH payment method. The attached element is emptied and all event listeners are removed.
     *
     * @returns {Promise} A promise which resolves when the ACH instance is destroyed
     * @example
     * ```
     * await ach.destroy();
     * ```
     */
    destroy(): Promise<boolean>;
    /**
     * Adds an event listener to the ACH instance.
     * See the Plaid documentation for supported event types and expected metadata.
     * https://plaid.com/docs/#onevent-callback
     * @param {PlaidEventName} eventType The Plaid event type to listen for
     * @param {(event: unknown) => void} callback The method that is invoked on the callback
     * @example
     * ```
     * const callback = async (metadata) => {
     *   alert(`Buyer searched for an institution using query ${metadata.institution_search_query}`);
     * };
     * ach.addEventListener("SEARCH_INSTITUTION", callback);
     * Use the token returned during the ontokenization event to process the payment on your server.
     *
     * Note: If the buyer cancels by closing the Plaid window without completing the
     * transaction, an error is provided as part of event.detail
     * ach.addEventListener('ontokenization', (event) => {
     *   const { tokenResult, error } = event.detail;
     *
     *   if (error) {
     *     const errorMessage = `Tokenization failed with status: ${error}`;
     *     throw new Error(errorMessage);
     *   }
     *
     *   if (tokenResult.status === 'OK') {
     *     console.log('got payment token: ', tokenResult.token);
     *   }
     * });
     * ```
     */
    addEventListener(eventType: PlaidEventName, callback: (event: SqEvent<TokenizationEvent>) => void): void;
    /**
     * Removes an event listener from the ACH instance.
     * @param {PlaidEventName} eventType The Plaid event type to stop listening for
     * @param {(event: unknown) => void} callback The method that is invoked on the callback
     * @example
     * ```
     * ach.removeEventListener("SEARCH_INSTITUTION", callback);
     * ```
     */
    removeEventListener(eventType: PlaidEventName, callback: (event: SqEvent) => void): void;
}
export type AchTokenizeOptions = AchLinkAndChargeOptions | AchStoreOptions | AchChargeOptions | AchRecurringChargeOptions | AchVariableRecurringOptions;
/**
 * Link bank account and create charge.
 *
 * @example
 * ```
 * const achLinkAndChargeOptions = {
 *   intent: 'CHARGE',
 *   accountHolderName: 'John Doe',
 *   amount: '5.00',
 *   currency: 'USD',
 * };
 * ```
 */
export interface AchLinkAndChargeOptions {
    intent: 'CHARGE';
    accountHolderName: string;
    amount: string;
    currency: string;
}
/**
 * Link bank account.
 *
 * @example
 * ```
 * const achLinkOptions = {
 *   intent: 'STORE',
 *   accountHolderName: 'John Doe',
 * };
 * ```
 */
export interface AchStoreOptions {
    intent: 'STORE';
    accountHolderName: string;
}
/**
 * Create charge for bank account on file.
 *
 * @example
 * ```
 * const achChargeOptions = {
 *   intent: 'CHARGE',
 *   bankAccountId: 'bact:123456789',
 *   amount: '5.00',
 *   currency: 'USD',
 * };
 * ```
 */
export interface AchChargeOptions {
    intent: 'CHARGE';
    bankAccountId: string;
    amount: string;
    currency: string;
}
/**
 * Create recurring charge for bank on file.
 *
 * @example
 * ```
 * const achRecurringChargeOptions = {
 *    intent: 'RECURRING_CHARGE',
 *    bankAccountId: 'bact:123456789',
 *    startDate: '2025-12-31',
 *    frequency: {
 *      days: 1,
 *    },
 *    offCadencePayments: [{
 *      amount: '2.00',
 *      currency: 'USD',
 *      date: '2025-12-24',
 *    }],
 *    amount: '5.00',
 *    currency: 'USD',
 * };
 * ```
 */
export interface AchRecurringChargeOptions {
    intent: 'RECURRING_CHARGE';
    bankAccountId: string;
    startDate: string;
    frequency: AchRecurringFrequency;
    offCadencePayments?: OffCadencePayment[];
    amount: string;
    currency: string;
}
export interface OffCadencePayment {
    amount: string;
    currency: string;
    date: string;
}
/**
 * Create recurring charge with a variable amount for bank on file.
 *
 * @example
 * ```
 * const achRecurringVariableChargeOptions = {
 *   intent: 'RECURRING_CHARGE',
 *   bankAccountId: 'bact:123456789',
 *   startDate: '2025-12-31',
 *   frequency: {
 *     weekly: {
 *       occurrence: 1,
 *       daysOfWeek: ['MONDAY'],
 *     },
 *   },
 *   variableAmount: true,
 * }
 * ```
 */
export interface AchVariableRecurringOptions {
    intent: 'RECURRING_CHARGE';
    bankAccountId: string;
    startDate: string;
    frequency: AchRecurringFrequency;
    variableAmount: true;
}
export type AchRecurringFrequency = AchYearlyRecurringFrequency | AchMonthlyRecurringFrequency | AchWeeklyRecurringFrequency | AchDailyRecurringFrequency;
export type Month = 'JANUARY' | 'FEBRUARY' | 'MARCH' | 'APRIL' | 'MAY' | 'JUNE' | 'JULY' | 'AUGUST' | 'SEPTEMBER' | 'OCTOBER' | 'NOVEMBER' | 'DECEMBER';
export interface DaysOfMonth {
    daysOfMonth: number[];
    endOfMonth?: boolean;
}
export interface AchYearlyRecurringFrequency {
    yearly: {
        occurrence?: number;
        months: Month[];
        days: DaysOfMonth;
    };
}
export interface AchMonthlyRecurringFrequency {
    monthly: {
        occurrence?: number;
        days: DaysOfMonth;
    };
}
export type Weekday = 'MONDAY' | 'TUESDAY' | 'WEDNESDAY' | 'THURSDAY' | 'FRIDAY' | 'SATURDAY' | 'SUNDAY';
export interface AchWeeklyRecurringFrequency {
    weekly: {
        occurrence?: number;
        daysOfWeek: Weekday[];
    };
}
export interface AchDailyRecurringFrequency {
    days: number;
}
